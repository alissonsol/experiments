# Codespaces local development

As per the [documentation](https://docs.github.com/en/codespaces/overview), <em>"A codespace is a development environment that's hosted in the cloud"</em>. Yet... that is good idea that I likely could benefit from locally. It would be great to be able to develop locally in the same way. And there is such a way!

My setup is:

- Great hardware!
- Windows 11
- [Docker with the WSL 2 backend](https://docs.docker.com/desktop/windows/wsl/)
- Latest [Visual Studio Code](https://code.visualstudio.com/Download)
- The [GitHub Codespaces](https://marketplace.visualstudio.com/items?itemName=GitHub.codespaces) extension

That available, you need to create a [`devcontainer.json`](https://code.visualstudio.com/docs/remote/devcontainerjson-reference) file in a "`.devcontainer`" folder. Afterwards, start Visual Studio code from that folder. You will see a dialog at that corner like the one below, asking if you want to reopen in a container.

![](2021-11.experiments.Codespaces.local/2021-11.vscode.reopen.in.container.jpg)

Press the buttom to "Reopen in Container" and that is it! While the container is being build/started, you have the option to show the log.

![](2021-11.experiments.Codespaces.local/2021-11.vscode.show.log.jpg)

There are examples under the folder [`2021-11.experiments.Codespaces.local`](./2021-11.experiments.Codespaces.local/). Just start Visual Studio Code from each folder.

- [`build.dockerfile`](./2021-11.experiments.Codespaces.local/build.dockerfile/): builds a Dockerfile based on Ubuntu distribution and install some dev tools.
- [`run.image`](./2021-11.experiments.Codespaces.local/run.image/): downloads a common NVIDIA image and starts the container with parameters to use GPUs.

Start a terminal window and try the `whoami` command to see the different behaviors. Cross-marketing some other experiments: another command that clearly shows the differences is the `nvidia-smi` (see information from the experiment [AI, CUDA, and the Hardware Connection](https://github.com/alissonsol/experiments/blob/main/2021/2021-11.experiments.CUDA.md)). If PowerShell is installed, it can be started with `pwsh`. You can try the [Yuruna](https://github.com/alissonsol/yuruna) framework in a container! Other [requirements](https://github.com/alissonsol/yuruna/blob/main/docs/requirements.md) may be needed, but there are instructions on how to setup those in a [Ubuntu](https://github.com/alissonsol/yuruna/blob/main/docs/ubuntu.md) environment.

Developing with a local Codespace may demand some ramp-up to become familiar with the functionality. Visual Studio Code is aware of changes you make to the enlistments inside the started containers. That can be both convenient and confusing. Check the [documentation](https://code.visualstudio.com/docs/remote/codespaces) for more information. 

More to come...

The Alisson Sol [experiments](https://github.com/alissonsol/experiments) - Circa 2021/11
